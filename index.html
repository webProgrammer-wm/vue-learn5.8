<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Title</title>
    </head>
    <body>
        <!-- 父组件模板 -->
        <div id="app">
            <!-- 监听事件 -->
            <cpn @item-click="itemClick"></cpn>
        </div>

        <!-- 子组件模板 -->
        <template id="cpn">
            <div>
                <button v-for="item in categories" @click="btnClick(item)">{{ item.name }}</button>
            </div>
        </template>

        <script src="./js/vue.js"></script>
        <script>
            const cpn = {
                template: '#cpn',
                data() {
                    return {
                        categories: [
                            {
                                id: 'aaa',
                                name: '热门推荐'
                            },
                            {
                                id: 'bbb',
                                name: '手机数码'
                            },
                            {
                                id: 'ccc',
                                name: '家用家电'
                            },
                            {
                                id: 'ddd',
                                name: '电脑办公'
                            }
                        ]
                    }
                },
                methods: {
                    btnClick(item) {
                        console.log(item)
                        // 发射事件 - 自定义事件
                        this.$emit('item-click', item)
                    }
                }
            }

            const app = new Vue({
                el: '#app',
                data: {
                    info: {a: '111'}
                },
                components: {
                    cpn
                },
                methods: {
                    itemClick(item) {
                        console.log('父组件接收到了事件', item)
                    }
                }
            })
        </script>
    </body>
</html>
